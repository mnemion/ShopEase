{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Link,useNavigate,useLocation}from'react-router-dom';import{useAuth}from'../context/AuthContext';import{login,openSocialLoginPopup}from'../api/auth';import{validateEmail,validateRequired}from'../utils/validators';import Button from'../components/ui/Button';// 소셜 로그인 아이콘 경로 (public 폴더의 파일은 import하지 않고 URL로 직접 참조)\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const googleLogoPath='/assets/google-logo.svg';const kakaoLogoPath='/assets/kakao-logo.svg';const naverLogoPath='/assets/naver-logo.svg';const Login=()=>{var _location$state,_location$state$from;const[email,setEmail]=useState('');const[password,setPassword]=useState('');const[errors,setErrors]=useState({});const[isLoading,setIsLoading]=useState(false);const[loginError,setLoginError]=useState('');const{isAuthenticated,login:authLogin}=useAuth();const navigate=useNavigate();const location=useLocation();// 리다이렉트 경로 설정 (이전 페이지 또는 기본값)\nconst from=((_location$state=location.state)===null||_location$state===void 0?void 0:(_location$state$from=_location$state.from)===null||_location$state$from===void 0?void 0:_location$state$from.pathname)||'/';// 이미 로그인되어 있으면 홈으로 리다이렉트\nuseEffect(()=>{if(isAuthenticated){navigate(from,{replace:true});}},[isAuthenticated,navigate,from]);// 입력 변경 핸들러\nconst handleEmailChange=e=>{setEmail(e.target.value);// 에러 메시지 초기화\nif(errors.email){setErrors(prev=>({...prev,email:''}));}};const handlePasswordChange=e=>{setPassword(e.target.value);// 에러 메시지 초기화\nif(errors.password){setErrors(prev=>({...prev,password:''}));}};// 폼 유효성 검사\nconst validateForm=()=>{const newErrors={};// 이메일 검사\nif(!validateRequired(email)){newErrors.email='이메일을 입력해주세요.';}else if(!validateEmail(email)){newErrors.email='올바른 이메일 형식이 아닙니다.';}// 비밀번호 검사\nif(!validateRequired(password)){newErrors.password='비밀번호를 입력해주세요.';}setErrors(newErrors);return Object.keys(newErrors).length===0;};// 폼 제출 핸들러\nconst handleSubmit=async e=>{e.preventDefault();// 폼 유효성 검사\nif(!validateForm()){return;}setIsLoading(true);setLoginError('');try{// 로그인 API 호출\nconst response=await login({email,password});const{access,refresh,user}=response;// Context에 로그인 상태 저장\nauthLogin(access,refresh,user);// 리다이렉트\nnavigate(from,{replace:true});}catch(error){console.error('로그인 실패:',error);// 에러 메시지 표시\nif(error.response&&error.response.data){const data=error.response.data;if(data.detail){setLoginError(data.detail);}else if(data.non_field_errors){setLoginError(data.non_field_errors[0]);}else{setLoginError('로그인에 실패했습니다. 다시 시도해주세요.');}}else{setLoginError('서버 연결에 문제가 있습니다. 잠시 후 다시 시도해주세요.');}}finally{setIsLoading(false);}};// 소셜 로그인 핸들러 (수정됨 - 팝업 방식으로 처리)\nconst handleSocialLogin=provider=>{// 팝업 방식으로 소셜 로그인 시작 (auth.js의 함수 사용)\nconsole.log(`[Login] Initiating social login for: ${provider}`);const popup=openSocialLoginPopup(provider);// 팝업 닫힘 감지 후 처리 (선택)\nif(popup){const timer=setInterval(()=>{if(popup.closed){clearInterval(timer);// 팝업 자체에서 reload 처리했으므로 별도 로직 필요 없지만\n// 추가 후처리가 필요하다면 여기에 작성\n}},500);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sm:mx-auto sm:w-full sm:max-w-md\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"mt-6 text-center text-3xl font-extrabold text-gray-900\",children:\"\\uB85C\\uADF8\\uC778\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"mt-2 text-center text-sm text-gray-600\",children:[\"\\uB610\\uB294\",' ',/*#__PURE__*/_jsx(Link,{to:\"/register\",className:\"font-medium text-indigo-600 hover:text-indigo-500\",children:\"\\uD68C\\uC6D0\\uAC00\\uC785\\uD558\\uAE30\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-8 sm:mx-auto sm:w-full sm:max-w-md\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10\",children:[loginError&&/*#__PURE__*/_jsx(\"div\",{className:\"mb-4 bg-red-50 border-l-4 border-red-500 p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"h-5 w-5 text-red-400\",xmlns:\"http://www.w3.org/2000/svg\",viewBox:\"0 0 20 20\",fill:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{fillRule:\"evenodd\",d:\"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\",clipRule:\"evenodd\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-3\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-red-700\",children:loginError})})]})}),/*#__PURE__*/_jsxs(\"form\",{className:\"space-y-6\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",className:\"block text-sm font-medium text-gray-700\",children:\"\\uC774\\uBA54\\uC77C \\uC8FC\\uC18C\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-1\",children:[/*#__PURE__*/_jsx(\"input\",{id:\"email\",name:\"email\",type:\"email\",autoComplete:\"email\",required:true,value:email,onChange:handleEmailChange,className:`appearance-none block w-full px-3 py-2 border ${errors.email?'border-red-300':'border-gray-300'} rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm`}),errors.email&&/*#__PURE__*/_jsx(\"p\",{className:\"mt-2 text-sm text-red-600\",children:errors.email})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",className:\"block text-sm font-medium text-gray-700\",children:\"\\uBE44\\uBC00\\uBC88\\uD638\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-1\",children:[/*#__PURE__*/_jsx(\"input\",{id:\"password\",name:\"password\",type:\"password\",autoComplete:\"current-password\",required:true,value:password,onChange:handlePasswordChange,className:`appearance-none block w-full px-3 py-2 border ${errors.password?'border-red-300':'border-gray-300'} rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm`}),errors.password&&/*#__PURE__*/_jsx(\"p\",{className:\"mt-2 text-sm text-red-600\",children:errors.password})]})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"primary\",fullWidth:true,isLoading:isLoading,children:\"\\uB85C\\uADF8\\uC778\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 flex items-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-full border-t border-gray-300\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"relative flex justify-center text-sm\",children:/*#__PURE__*/_jsx(\"span\",{className:\"px-2 bg-white text-gray-500\",children:\"\\uB610\\uB294 \\uB2E4\\uB978 \\uBC29\\uBC95\\uC73C\\uB85C \\uACC4\\uC18D\\uD558\\uAE30\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6 grid grid-cols-1 gap-3\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"button\",{type:\"button\",onClick:()=>handleSocialLogin('google'),className:\"w-full inline-flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50\",children:[/*#__PURE__*/_jsx(\"img\",{src:googleLogoPath,alt:\"Google logo\",className:\"h-5 w-5 mr-2\"}),\"\\uAD6C\\uAE00 \\uB85C\\uADF8\\uC778\"]})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"button\",{type:\"button\",onClick:()=>handleSocialLogin('kakao'),className:\"w-full inline-flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium hover:opacity-90\",style:{backgroundColor:'#FEE500',color:'#000000'}// 카카오 스타일\n,children:[/*#__PURE__*/_jsx(\"img\",{src:kakaoLogoPath,alt:\"Kakao logo\",className:\"h-5 w-5 mr-2\"}),\"\\uCE74\\uCE74\\uC624 \\uB85C\\uADF8\\uC778\"]})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"button\",{type:\"button\",onClick:()=>handleSocialLogin('naver'),className:\"w-full inline-flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium hover:opacity-90\",style:{backgroundColor:'#03C75A',color:'white'}// 네이버 스타일\n,children:[/*#__PURE__*/_jsx(\"img\",{src:naverLogoPath,alt:\"Naver logo\",className:\"h-5 w-5 mr-2\"}),\"\\uB124\\uC774\\uBC84 \\uB85C\\uADF8\\uC778\"]})})]})]})]})})]});};export default Login;","map":{"version":3,"names":["React","useState","useEffect","Link","useNavigate","useLocation","useAuth","login","openSocialLoginPopup","validateEmail","validateRequired","Button","jsx","_jsx","jsxs","_jsxs","googleLogoPath","kakaoLogoPath","naverLogoPath","Login","_location$state","_location$state$from","email","setEmail","password","setPassword","errors","setErrors","isLoading","setIsLoading","loginError","setLoginError","isAuthenticated","authLogin","navigate","location","from","state","pathname","replace","handleEmailChange","e","target","value","prev","handlePasswordChange","validateForm","newErrors","Object","keys","length","handleSubmit","preventDefault","response","access","refresh","user","error","console","data","detail","non_field_errors","handleSocialLogin","provider","log","popup","timer","setInterval","closed","clearInterval","className","children","to","xmlns","viewBox","fill","fillRule","d","clipRule","onSubmit","htmlFor","id","name","type","autoComplete","required","onChange","variant","fullWidth","onClick","src","alt","style","backgroundColor","color"],"sources":["C:/Users/COM-LM/Documents/ShopEase/frontend/src/pages/Login.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Link, useNavigate, useLocation } from 'react-router-dom';\r\nimport { useAuth } from '../context/AuthContext';\r\nimport { login, openSocialLoginPopup } from '../api/auth';\r\nimport { validateEmail, validateRequired } from '../utils/validators';\r\nimport Button from '../components/ui/Button';\r\n\r\n// 소셜 로그인 아이콘 경로 (public 폴더의 파일은 import하지 않고 URL로 직접 참조)\r\nconst googleLogoPath = '/assets/google-logo.svg';\r\nconst kakaoLogoPath = '/assets/kakao-logo.svg';\r\nconst naverLogoPath = '/assets/naver-logo.svg';\r\n\r\nconst Login = () => {\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [errors, setErrors] = useState({});\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [loginError, setLoginError] = useState('');\r\n  \r\n  const { isAuthenticated, login: authLogin } = useAuth();\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n\r\n  // 리다이렉트 경로 설정 (이전 페이지 또는 기본값)\r\n  const from = location.state?.from?.pathname || '/';\r\n  \r\n  // 이미 로그인되어 있으면 홈으로 리다이렉트\r\n  useEffect(() => {\r\n    if (isAuthenticated) {\r\n      navigate(from, { replace: true });\r\n    }\r\n  }, [isAuthenticated, navigate, from]);\r\n  \r\n  // 입력 변경 핸들러\r\n  const handleEmailChange = (e) => {\r\n    setEmail(e.target.value);\r\n    // 에러 메시지 초기화\r\n    if (errors.email) {\r\n      setErrors((prev) => ({ ...prev, email: '' }));\r\n    }\r\n  };\r\n  \r\n  const handlePasswordChange = (e) => {\r\n    setPassword(e.target.value);\r\n    // 에러 메시지 초기화\r\n    if (errors.password) {\r\n      setErrors((prev) => ({ ...prev, password: '' }));\r\n    }\r\n  };\r\n  \r\n  // 폼 유효성 검사\r\n  const validateForm = () => {\r\n    const newErrors = {};\r\n    \r\n    // 이메일 검사\r\n    if (!validateRequired(email)) {\r\n      newErrors.email = '이메일을 입력해주세요.';\r\n    } else if (!validateEmail(email)) {\r\n      newErrors.email = '올바른 이메일 형식이 아닙니다.';\r\n    }\r\n    \r\n    // 비밀번호 검사\r\n    if (!validateRequired(password)) {\r\n      newErrors.password = '비밀번호를 입력해주세요.';\r\n    }\r\n    \r\n    setErrors(newErrors);\r\n    return Object.keys(newErrors).length === 0;\r\n  };\r\n  \r\n  // 폼 제출 핸들러\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    // 폼 유효성 검사\r\n    if (!validateForm()) {\r\n      return;\r\n    }\r\n    \r\n    setIsLoading(true);\r\n    setLoginError('');\r\n    \r\n    try {\r\n      // 로그인 API 호출\r\n      const response = await login({ email, password });\r\n      const { access, refresh, user } = response;\r\n      \r\n      // Context에 로그인 상태 저장\r\n      authLogin(access, refresh, user);\r\n      \r\n      // 리다이렉트\r\n      navigate(from, { replace: true });\r\n    } catch (error) {\r\n      console.error('로그인 실패:', error);\r\n      \r\n      // 에러 메시지 표시\r\n      if (error.response && error.response.data) {\r\n        const data = error.response.data;\r\n        if (data.detail) {\r\n          setLoginError(data.detail);\r\n        } else if (data.non_field_errors) {\r\n          setLoginError(data.non_field_errors[0]);\r\n        } else {\r\n          setLoginError('로그인에 실패했습니다. 다시 시도해주세요.');\r\n        }\r\n      } else {\r\n        setLoginError('서버 연결에 문제가 있습니다. 잠시 후 다시 시도해주세요.');\r\n      }\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n  \r\n  // 소셜 로그인 핸들러 (수정됨 - 팝업 방식으로 처리)\r\n  const handleSocialLogin = (provider) => {\r\n    // 팝업 방식으로 소셜 로그인 시작 (auth.js의 함수 사용)\r\n    console.log(`[Login] Initiating social login for: ${provider}`);\r\n    const popup = openSocialLoginPopup(provider);\r\n    // 팝업 닫힘 감지 후 처리 (선택)\r\n    if (popup) {\r\n      const timer = setInterval(() => {\r\n        if (popup.closed) {\r\n          clearInterval(timer);\r\n          // 팝업 자체에서 reload 처리했으므로 별도 로직 필요 없지만\r\n          // 추가 후처리가 필요하다면 여기에 작성\r\n        }\r\n      }, 500);\r\n    }\r\n  };\r\n  \r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8\">\r\n      <div className=\"sm:mx-auto sm:w-full sm:max-w-md\">\r\n        <h2 className=\"mt-6 text-center text-3xl font-extrabold text-gray-900\">\r\n          로그인\r\n        </h2>\r\n        <p className=\"mt-2 text-center text-sm text-gray-600\">\r\n          또는{' '}\r\n          <Link to=\"/register\" className=\"font-medium text-indigo-600 hover:text-indigo-500\">\r\n            회원가입하기\r\n          </Link>\r\n        </p>\r\n      </div>\r\n\r\n      <div className=\"mt-8 sm:mx-auto sm:w-full sm:max-w-md\">\r\n        <div className=\"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10\">\r\n          {/* 로그인 에러 메시지 */}\r\n          {loginError && (\r\n            <div className=\"mb-4 bg-red-50 border-l-4 border-red-500 p-4\">\r\n              <div className=\"flex\">\r\n                <div className=\"flex-shrink-0\">\r\n                  <svg className=\"h-5 w-5 text-red-400\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\r\n                    <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\" clipRule=\"evenodd\" />\r\n                  </svg>\r\n                </div>\r\n                <div className=\"ml-3\">\r\n                  <p className=\"text-sm text-red-700\">{loginError}</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          <form className=\"space-y-6\" onSubmit={handleSubmit}>\r\n            {/* 이메일 입력 필드 */}\r\n            <div>\r\n              <label htmlFor=\"email\" className=\"block text-sm font-medium text-gray-700\">\r\n                이메일 주소\r\n              </label>\r\n              <div className=\"mt-1\">\r\n                <input\r\n                  id=\"email\"\r\n                  name=\"email\"\r\n                  type=\"email\"\r\n                  autoComplete=\"email\"\r\n                  required\r\n                  value={email}\r\n                  onChange={handleEmailChange}\r\n                  className={`appearance-none block w-full px-3 py-2 border ${\r\n                    errors.email ? 'border-red-300' : 'border-gray-300'\r\n                  } rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm`}\r\n                />\r\n                {errors.email && (\r\n                  <p className=\"mt-2 text-sm text-red-600\">{errors.email}</p>\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            {/* 비밀번호 입력 필드 */}\r\n            <div>\r\n              <label htmlFor=\"password\" className=\"block text-sm font-medium text-gray-700\">\r\n                비밀번호\r\n              </label>\r\n              <div className=\"mt-1\">\r\n                <input\r\n                  id=\"password\"\r\n                  name=\"password\"\r\n                  type=\"password\"\r\n                  autoComplete=\"current-password\"\r\n                  required\r\n                  value={password}\r\n                  onChange={handlePasswordChange}\r\n                  className={`appearance-none block w-full px-3 py-2 border ${\r\n                    errors.password ? 'border-red-300' : 'border-gray-300'\r\n                  } rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm`}\r\n                />\r\n                {errors.password && (\r\n                  <p className=\"mt-2 text-sm text-red-600\">{errors.password}</p>\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            {/* 로그인 버튼 */}\r\n            <div>\r\n              <Button\r\n                type=\"submit\"\r\n                variant=\"primary\"\r\n                fullWidth\r\n                isLoading={isLoading}\r\n              >\r\n                로그인\r\n              </Button>\r\n            </div>\r\n          </form>\r\n\r\n          <div className=\"mt-6\">\r\n            <div className=\"relative\">\r\n              <div className=\"absolute inset-0 flex items-center\">\r\n                <div className=\"w-full border-t border-gray-300\" />\r\n              </div>\r\n              <div className=\"relative flex justify-center text-sm\">\r\n                <span className=\"px-2 bg-white text-gray-500\">\r\n                  또는 다른 방법으로 계속하기\r\n                </span>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"mt-6 grid grid-cols-1 gap-3\">\r\n              {/* Google Login Button */}\r\n              <div>\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={() => handleSocialLogin('google')}\r\n                  className=\"w-full inline-flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50\"\r\n                >\r\n                  <img src={googleLogoPath} alt=\"Google logo\" className=\"h-5 w-5 mr-2\" />\r\n                  구글 로그인\r\n                </button>\r\n              </div>\r\n              \r\n              {/* Kakao Login Button */}\r\n              <div>\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={() => handleSocialLogin('kakao')}\r\n                  className=\"w-full inline-flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium hover:opacity-90\"\r\n                  style={{ backgroundColor: '#FEE500', color: '#000000' }} // 카카오 스타일\r\n                >\r\n                  <img src={kakaoLogoPath} alt=\"Kakao logo\" className=\"h-5 w-5 mr-2\" />\r\n                  카카오 로그인\r\n                </button>\r\n              </div>\r\n              \r\n              {/* Naver Login Button */}\r\n              <div>\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={() => handleSocialLogin('naver')}\r\n                  className=\"w-full inline-flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium hover:opacity-90\"\r\n                  style={{ backgroundColor: '#03C75A', color: 'white' }} // 네이버 스타일\r\n                >\r\n                  <img src={naverLogoPath} alt=\"Naver logo\" className=\"h-5 w-5 mr-2\" />\r\n                  네이버 로그인\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}